[gd_scene load_steps=11 format=3 uid="uid://cmw2100mkgw3c"]

[ext_resource type="Script" path="res://scripts/CommandManager.gd" id="1_k4l8b"]
[ext_resource type="PackedScene" uid="uid://cjh4kr7do3ddx" path="res://scenes/player.tscn" id="1_skd3a"]
[ext_resource type="PackedScene" uid="uid://bbqvgiqtvvj75" path="res://scenes/unit.tscn" id="5_gmj38"]
[ext_resource type="PackedScene" uid="uid://csbcxdt2lm4u1" path="res://scenes/tile_map.tscn" id="5_mbqj8"]
[ext_resource type="PackedScene" uid="uid://drwxme0yhjdc2" path="res://scenes/selection_handler.tscn" id="5_vk4bl"]
[ext_resource type="Script" path="res://scripts/health_bar.gd" id="6_3nhu0"]
[ext_resource type="PackedScene" uid="uid://bg5jrjwfpc88n" path="res://scenes/selection_grid.tscn" id="6_fev7a"]
[ext_resource type="Script" path="res://scripts/CursorManager.gd" id="9_37vfo"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_60m1h"]
vertices = PackedVector2Array(346, 204, 703, -253, 984, 272, 375, 482, 340, 244, 312, -339, 322, 193, 17, 474, 290, 250, 259, 228, -509, 129, -140, -349, 284, 196)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4), PackedInt32Array(5, 1, 0, 6), PackedInt32Array(4, 3, 7, 8), PackedInt32Array(9, 8, 7), PackedInt32Array(9, 7, 10, 11, 5, 12), PackedInt32Array(12, 5, 6)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-145, -360, -524, 131, 15, 484, 376, 493, 999, 278, 710, -262, 314, -349)])
source_geometry_group_name = &"navigation_polygon_source_group"

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_v6j6i"]
size = Vector2(30, 30)

[node name="main" type="Node2D"]
metadata/_edit_lock_ = true

[node name="CommandManager" type="Node2D" parent="."]
script = ExtResource("1_k4l8b")

[node name="CursorManager" type="Node2D" parent="."]
script = ExtResource("9_37vfo")

[node name="SelectionHandler" parent="." instance=ExtResource("5_vk4bl")]
metadata/_edit_lock_ = true

[node name="SelectionGrid" parent="." instance=ExtResource("6_fev7a")]
metadata/_edit_lock_ = true

[node name="TileMap" parent="." instance=ExtResource("5_mbqj8")]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_60m1h")
metadata/_edit_lock_ = true

[node name="Polygon2D" type="Polygon2D" parent="NavigationRegion2D"]
position = Vector2(300, 222)
polygon = PackedVector2Array(-11, -16, -27, 4, -7, 18, 31, 13, 35, -12, 20, -19)

[node name="Ambient" type="CanvasModulate" parent="."]
position = Vector2(562, 320)
scale = Vector2(128, 128)
color = Color(0.485703, 0.485704, 0.485703, 1)

[node name="Player" parent="." instance=ExtResource("1_skd3a")]
position = Vector2(250, 150)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="HealthBar" type="ProgressBar" parent="CanvasLayer" node_paths=PackedStringArray("player")]
offset_left = 20.0
offset_top = 16.0
offset_right = 59.0
offset_bottom = 43.0
script = ExtResource("6_3nhu0")
player = NodePath("../../Player")
metadata/_edit_use_anchors_ = true

[node name="Enemies" type="Node2D" parent="."]
metadata/_edit_lock_ = true

[node name="Enemy2" parent="Enemies" instance=ExtResource("5_gmj38")]
y_sort_enabled = true
position = Vector2(232, 182)

[node name="Enemy3" parent="Enemies" instance=ExtResource("5_gmj38")]
position = Vector2(181, 199)

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="."]
position = Vector2(-2, 0)
metadata/_edit_lock_ = true

[node name="Label" type="Label" parent="."]
offset_left = 86.0
offset_top = 39.0
offset_right = 126.0
offset_bottom = 62.0

[node name="Tree" type="Sprite2D" parent="."]
position = Vector2(282, 315)
texture = SubResource("PlaceholderTexture2D_v6j6i")
